# ucsb-test-case

## Задание 1
Сетевые политики описаны в файле networkpolicy в каталоге "Задание 1".
Подразуемавается, что:
- Service 1 и Service 2 находятся в одном пространстве имен "app"
- Service 1 имеет label: "app: service-1"
- Service 2 имеет label: "app: service-2"

## Задание 2
Манифесты deployment, service, ingress представлены в каталоге "Задание 2".
Подразумевается, что:
- Создан namespace "devops-tools"
- Создан pvc "jenkins-pv-claim" c "accessModes: ReadWriteOnce"
- Настроен RBAC для serviceaccount "jenkins" с минимальными необходимыми правами доступа
- Настроен nginx-ingress controller
- Настроен cert-manager/cluster-issuer "letsencrypt-production"
- Зарегистрирована DNS-запись "jenkins.<domain>" на IP-адрес допустим LB

## Задание 3
Основые правила безопасности при работе с kubernetes:
- Использование RBAC. Необходимо настраивать минимальные необходимые права доступа для пользователей или ServiceAccounts.
- Использование NetworkPolicy. По умолчанию все поды кластера могут обмениваться трафиком друг с другом, необходимо изолировать трафик, ограничивая доступ к подам.
- Сканирование на уязвимости и фиксирование версий используемых образов. Необходимо сканировать и фиксировать версии образов, так как в новых образах могут быть уязвимости, а фиксирование версии и сканирование на уязвимости помогает избежать случайной эксплуатации небезопасного образа.
- Шифрование Secrets. По умолчанию secrets хранятся в base64, это значит, что любой имеющий доступ к Secrets может посмотреть чувствительные данные. Необходимо хранить secrets в зашифрованном виде.
- Использование SecurituContext. Необходимо задавать ограничения на привилегии контейнеров, управлять правами доступа к файлам и каталогам.  
